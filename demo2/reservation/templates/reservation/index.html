{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibliothèque Universitaire de Paris Nanterre</title>
    
    <!-- CSS Materialize -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"> 
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'reservation/index.css' %}"> 
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=keyboard_arrow_down" />
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">


</head>

<body>
    <aside class="sidebar horizontal1">
        <div class="sidebar-left">
            <span class="segmi-text">SEGMI</span>
        </div>
        <div class="sidebar-right">
            <!-- Instagram -->
            <a href="https://www.instagram.com" target="_blank" class="social-icon" title="Instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <!-- Twitter (X) -->
            <a href="https://www.twitter.com" target="_blank" class="social-icon" title="X (Twitter)">
                <i class="fab fa-twitter"></i>
            </a>
            <!-- Facebook -->
            <a href="https://www.facebook.com" target="_blank" class="social-icon" title="Facebook">
                <i class="fab fa-facebook-f"></i>
            </a>
            <!-- YouTube -->
            <a href="https://www.youtube.com" target="_blank" class="social-icon" title="YouTube">
                <i class="fab fa-youtube"></i>
            </a>
        </div>
    </aside>
    
    <!-- Header -->
    <header class="navbar">
        <div class="logo-container">
            <a href="{% url 'reservation_index' %}" class="brand-logo">
                <img src="{% static 'reservation/logo.png' %}" alt="Logo" class="logo">
            </a>
        </div>
        <div class="header-text">
            <h1>BIBLIOTHÈQUE UNIVERSITAIRE</h1>
        </div>
        <div class="header-right">
            <a href="https://cas.parisnanterre.fr/login?service=https://portail.parisnanterre.fr/redirection" 
                class="btn-ent waves-effect waves-light">
                ENT
            </a>
        </div>
        
    </header>
    
    
    <aside class="sidebar horizontal">
        <button class="btn-sidebar" title="Réserver" onclick="scrollToReservation()">
            <i class="material-icons">event_available</i>
        </button>
        <a href="{% url 'login' %}" class="btn-sidebar" title="Connexion">
            <i class="material-icons">person</i>
        </a>
        
        <a href="https://imprimer.parisnanterre.fr/user" target="_blank" class="btn-sidebar" title="Imprimer">
            <i class="material-icons">print</i>
        </a>
        
    </aside>
    <section id="introduction-boxes" class="section" style="display: f; justify-content: center; align-items: center; text-align: center;">
    <div class="container">
        <h1>Découvrez nos boxes de travail</h1>
        <p class="introduction-text">
            Nos boxes de travail sont spécialement conçues pour répondre aux besoins des étudiants, chercheurs et enseignants à la recherche d’un espace calme et fonctionnel. Que ce soit pour préparer un projet de groupe, travailler sur une présentation ou simplement réviser en toute tranquillité, ces espaces modernes et confortables offrent tout ce dont vous avez besoin : équipements adaptés, ambiance propice à la concentration, et flexibilité de réservation. Venez découvrir un environnement pensé pour votre réussite académique !
        </p>
        
        <!-- Conteneur Flexbox -->
        <div class="criteria-container">
            <!-- Cadre à gauche -->
            <div class="criteria-box">
                <h3>Règles d’utilisation</h3>
                <ul>
                    <li>Respecter le maximum indiqué pour chaque salle</li>
                    <li>Respecter son quota hebdomadaire</li>
                    <li>Maximum 4 réservations consécutives</li>
                    <li>Il est interdit de manger dans les boxes</li>
                </ul>
                <p>
                    Respectez les règles d’utilisation pour garantir une expérience agréable pour tous.
                </p>
            </div>

            <!-- Image à droite -->
            <img 
            src="{% static 'reservation/box.jpg' %}"  
                alt="Campus Université Paris Nanterre" 
                class="criteria-image">
        </div>
    </div>
</section>
    <div class="bande-rouge"></div>
    <!-- <section id="separator" class="section"></section>  -->
    <!-- Formulaire de réservation -->
    <section id="reservation" class="section">
    <div class="container">
        <h1>BIBLIOTHÈQUE UNIVERSITAIRE DE PARIS NANTERRE</h1>
        <h2>Réserver une salle de travail</h2>

        <form method="post">
            {% csrf_token %}
            <!-- Sélection du site -->
            <div class="select-container">
                <select name="site_id" required class="transparent-select">
                    {% for site in sites %}
                        <option value="{{ site.id }}">{{ site.nom }}</option>
                    {% endfor %}
                </select>
                <span class="material-symbols-outlined">keyboard_arrow_down</span>
            </div>

            <!-- Choix de la date -->
            <div class="select-container">
                <input id="reservation-date" type="text" name="date" placeholder="Choisir une date" required>
            </div>
            
            <!-- Heure de début -->
            <div class="select-container">
                <select name="start_time" id="start_time" class="transparent-select">
                    <option value="" disabled selected>Heure de début</option>
                    {% for hour in hours %}
                        <option value="{{ hour }}">{{ hour }}</option>
                    {% endfor %}
                </select>
                <span class="material-symbols-outlined">keyboard_arrow_down</span>
            </div>

            <!-- Heure de fin -->
            <div class="select-container">
                <select name="end_time" id="end_time" class="transparent-select">
                    <option value="" disabled selected>Heure de fin</option>
                    {% for hour in hours %}
                        <option value="{{ hour }}">{{ hour }}</option>
                    {% endfor %}
                </select>
                <span class="material-symbols-outlined">keyboard_arrow_down</span>
            </div>

            <!-- Bouton de réservation -->
            <button class="btn waves-effect waves-light red darken-3" type="submit">
                Réserver
                <i class="material-icons right">send</i>
            </button>
        </form>

        <!-- Message d'erreur -->
        {% if error %}
            <p style="color: red;">{{ error }}</p>
        {% endif %}
    </div>
</section>

<section id="faq" class="section">
    <div class="container">
        <h2>Questions Fréquemment Posées</h2>
        <div class="faq-item">
            <h3>❓ Qu'est-ce qu'une box de travail ?</h3>
            <p>
                Une box de travail est un espace privé au sein de la bibliothèque, conçu pour permettre aux étudiants, chercheurs ou groupes de travailler dans un environnement calme et confortable.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Qui peut utiliser une box de travail ?</h3>
            <p>
                Les boxes sont accessibles à tous les usagers de la bibliothèque universitaire, y compris les étudiants, les enseignants et les chercheurs.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Quelle est la capacité d'une box de travail ?</h3>
            <p>
                Les boxes peuvent accueillir entre 2 et 6 personnes, selon leur taille.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Quels équipements sont disponibles dans les boxes ?</h3>
            <p>
                Les boxes sont équipées de chaises confortables, de tables spacieuses, de prises électriques et d'une connexion Wi-Fi.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Combien de temps puis-je réserver une box ?</h3>
            <p>
                Vous pouvez réserver une box pour une durée maximale de 4 heures par jour et 8 heures par semaine.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Comment réserver une box de travail ?</h3>
            <p>
                Vous pouvez réserver une box directement sur notre site via le formulaire de réservation. Sélectionnez le site, la date, et les horaires qui vous conviennent.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Puis-je annuler ou modifier ma réservation ?</h3>
            <p>
                Oui, vous pouvez annuler ou modifier votre réservation en vous connectant à votre compte sur le site.
            </p>
        </div>
        <div class="faq-item">
            <h3>❓ Les boxes sont-elles accessibles aux personnes à mobilité réduite ?</h3>
            <p>
                Oui, la bibliothèque s'assure que certaines boxes sont adaptées aux personnes à mobilité réduite.
            </p>
        </div>
    </div>
</section>
<footer class="footer">
    <div class="footer-container">
        <!-- Section Informations -->
        <div class="footer-section">
            <h3>📍 Localisation</h3>
            <p>
                Université Paris Nanterre<br>
                200 Avenue de la République,<br>
                92001 Nanterre, France
            </p>
        </div>

        <!-- Section À propos -->
        <div class="footer-section">
            <h3>🕒 À propos de nous</h3>
            <p><strong>Horaires :</strong> Lundi - Vendredi : 8h30 - 19h00</p>
            <p><strong>Numéro :</strong> +33 1 23 45 67 89</p>
        </div>

        <!-- Section Plan et Site -->
        <div class="footer-section">
            <h3>🌐 Liens utiles</h3>
            <ul>
                <li><a href="https://communication.parisnanterre.fr/kit-daccueil/plan-du-campus-bibliotheques-de-luniversite-paris-nanterre"  target="_blank">Plan de l'Université</a></li>
                <li><a href="https://www.parisnanterre.fr/" target="_blank">Site officiel</a></li>
            </ul>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2025 Bibliothèque Universitaire de Paris Nanterre | Tous droits réservés.</p>
    </div>
</footer>


    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/fr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="{% static 'reservation/script.js' %}"></script>

    <script>
        // Initialisation des composants Materialize
        document.addEventListener('DOMContentLoaded', function() {
            var elems = document.querySelectorAll('select');
            M.FormSelect.init(elems);

            // Flatpickr pour la sélection de la date
            flatpickr("#reservation-date", {
                locale: "fr",
                dateFormat: "Y-m-d"
            });
        });

    </script>
    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
    <!-- <script>
        const sections = document.querySelectorAll('.section');
    
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });
    
        sections.forEach(section => observer.observe(section));
    </script> -->
    <script>// Sélectionnez toutes les sections que vous voulez animer
        const sections = document.querySelectorAll('.section');
        
        // Configurez l'IntersectionObserver
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Ajoutez la classe 'visible' à la section visible
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.1 // Déclenche à 10% de visibilité
        });
        
        // Appliquez l'observateur à chaque section
        sections.forEach(section => observer.observe(section));
        </script>

    <script>
        function scrollToReservation() {
    const reservationSection = document.querySelector('#reservation');
    if (reservationSection) {
        reservationSection.scrollIntoView({
            behavior: 'smooth', // Défilement fluide
            block: 'start'      // Aligne la section en haut de l'écran
        });
    }
}

    </script>

    <script>document.addEventListener('scroll', () => {
        const sections = document.querySelectorAll('.section');
        sections.forEach(section => {
            const rect = section.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom > 0) {
                section.classList.add('visible');
            }
        });
    });
    </script>
        
    
</body>
</html>
